---
const mainProduct = {
  src: '/main-product.svg?v=3'
};
const mobileBanner = {
  webpSrc: '/images/shouji-banner1-mobile.webp?v=3',
  alt: '专业滑移装载机制造商',
  width: 375,
  height: 200
};
---

<section class="hero-mobile">
  <!-- 移动端轮播图 - 高度优化版本 -->
  <div class="mobile-banner-container" id="mobile-carousel">
    <div class="mobile-carousel-inner">
      <div class="mobile-slide active">
        <img 
          src="/images/shouji-banner1-ultra.webp?v=3"
          alt="专业滑移装载机制造商"
          width="375"
          height="200"
          loading="eager"
          fetchpriority="high"
          decoding="sync"
          class="mobile-banner"
        />
      </div>
      <div class="mobile-slide">
        <img 
          src="/images/banner222-mobile.webp?v=3"
          alt="高品质工程机械设备"
          width="375"
          height="200"
          loading="lazy"
          decoding="async"
          class="mobile-banner"
        />
      </div>
      <div class="mobile-slide">
        <img 
          src="/images/banner-mobile.webp?v=3"
          alt="值得信赖的合作伙伴"
          width="375"
          height="200"
          loading="lazy"
          decoding="async"
          class="mobile-banner"
        />
      </div>
    </div>
  </div>

  <!-- 桌面端内容 -->
  <div class="desktop-content">
    <div class="container">
      <div class="grid md:grid-cols-2 gap-8 items-center">
        <!-- 左侧内容 -->
        <div class="text-center md:text-left" style="margin-left: 15rem">
          <h1>
            滑移装载机 <br style="display: none;">
            <span class="text-red-600">引领行业未来</span>
          </h1>
          <p class="mt-6 text-lg text-gray-700 max-w-md mx-auto md:mx-0">
            致力于提供高效、可靠的工程机械解决方案。
          </p>
          <div class="mt-8 flex justify-center md:justify-start space-x-4">
            <a href="/products" class="btn-primary">
              探索产品
            </a>
            <a href="/contact" class="btn-secondary">
              联系我们
            </a>
          </div>
        </div>

        <!-- 右侧图片 - LCP关键元素 -->
        <div class="img-container">
          <div style="position: relative; width: 100%;">
            <img 
              src={mainProduct.src} 
              alt="YN-S70滑移装载机" 
              width="600" 
              height="400" 
              loading="eager"
              decoding="sync"
              fetchpriority="high"
              style="width: 100%; height: auto; object-fit: contain; position: relative; z-index: 10;"
            />
            <!-- 背景装饰图形 -->
            <div class="decorative" style="position: absolute; top: -2.5rem; right: -2.5rem; width: 10rem; height: 10rem; background: #ef4444; opacity: 0.1; border-radius: 50%;"></div>
            <div class="decorative" style="position: absolute; bottom: -5rem; left: -5rem; width: 12rem; height: 12rem; background: #3b82f6; opacity: 0.1; border-radius: 50%;"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* 移动端轮播图样式 - 已在Layout中定义基础样式 */
  .mobile-carousel-inner {
    position: relative;
    width: 100%;
    height: 100%;
  }

  /* 桌面端显示换行 */
  @media (min-width: 768px) {
    h1 br {
      display: block !important;
    }
  }

  /* 移动端隐藏装饰元素 */
  @media (max-width: 768px) {
    .decorative {
      display: none;
    }
    
    .img-container img {
      max-width: 28rem;
      height: auto;
      margin: 1rem auto;
    }
  }
</style>

<script>
  // 轻量级移动端轮播 - 最小JavaScript
  (() => {
    const carousel = document.getElementById('mobile-carousel');
    if (!carousel || window.innerWidth > 768) return;
    
    let currentSlide = 0;
    const slides = carousel.querySelectorAll('.mobile-slide');
    const totalSlides = slides.length;
    
    if (totalSlides <= 1) return;
    
    const nextSlide = () => {
      slides[currentSlide].classList.remove('active');
      currentSlide = (currentSlide + 1) % totalSlides;
      slides[currentSlide].classList.add('active');
    };
    
    // 4秒切换一次
    setInterval(nextSlide, 4000);
  })();
</script>