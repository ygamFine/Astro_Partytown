---
export const prerender = true;

import SecondaryPageLayout from '../components/templates/SecondaryPageLayout.astro';
import NewsList from '../components/templates/NewsList.astro';
import { allNews } from '../data/news.js';

// 转换新闻数据格式以适配NewsList组件
const newsItems = allNews.map(newsItem => ({
  id: newsItem.id,
  title: newsItem.title,
  image: newsItem.image,
  excerpt: newsItem.excerpt,
  date: newsItem.date,
  category: newsItem.category,
  href: `/news/${newsItem.slug}`,
  author: 'TEVIS Team',
  readTime: '5 min read'
}));

// 面包屑导航
const breadcrumbs = [
  { label: 'Home', href: '/' },
  { label: 'News', href: '/news' },
  { label: 'All News' }
];
---

<SecondaryPageLayout 
  title="All News"
  description="Stay updated with our latest news, industry insights, and company updates"
  breadcrumbs={breadcrumbs}
  currentSection="news"
  contentType="list"
>
  <NewsList 
    items={newsItems}
    maxItems={10}
  />
</SecondaryPageLayout> 