---
export const prerender = true;

import SecondaryPageLayout from '../components/templates/SecondaryPageLayout.astro';
import GridList from '../components/templates/GridList.astro';
import Pagination from '../components/templates/Pagination.astro';

// 案例数据
const cases = [
  {
    id: 1,
    title: "European Port Construction Project",
    client: "Major European Logistics Port",
    image: "/case1.webp",
    excerpt: "Over 50 units of YN skid steer loaders excel in European major port expansion project, demonstrating exceptional performance in challenging marine environments.",
    category: "Marine Construction",
    results: ["Project completed ahead of schedule", "Zero accident record", "100% customer satisfaction"]
  },
  {
    id: 2,
    title: "Urban Infrastructure Development", 
    client: "Municipal Construction Group",
    image: "/case2.webp",
    excerpt: "In urban road renovation projects, YN backhoe loaders completed complex earthworks in narrow city environments with flexibility and efficiency.",
    category: "Urban Development",
    results: ["20% reduction in construction time", "Noise control compliance", "Zero complaints from residents"]
  },
  {
    id: 3,
    title: "Mining Operations Enhancement",
    client: "Large Mining Group", 
    image: "/case3.webp",
    excerpt: "In harsh mining environments, YN telescopic handlers demonstrated exceptional reliability and durability, creating significant economic benefits for clients.",
    category: "Mining",
    results: ["98% equipment availability", "30% reduction in maintenance costs", "40% improvement in work efficiency"]
  },
  {
    id: 4,
    title: "Agricultural Modernization",
    client: "Modern Farming Cooperative",
    image: "/skid1.webp",
    excerpt: "Modern farming solutions with our versatile machinery, helping farmers increase productivity while maintaining environmental sustainability.",
    category: "Agriculture",
    results: ["Increased crop yield by 25%", "Reduced labor costs", "Sustainable farming practices"]
  },
  {
    id: 5,
    title: "Disaster Relief Operations",
    client: "Emergency Response Team",
    image: "/skid2.webp", 
    excerpt: "Emergency response and disaster relief operations showcasing the reliability and versatility of our emergency equipment series.",
    category: "Emergency Response",
    results: ["Rapid deployment capability", "24/7 operational reliability", "Critical infrastructure restoration"]
  },
  {
    id: 6,
    title: "Smart City Construction",
    client: "Smart City Development Authority",
    image: "/skid3.webp",
    excerpt: "Intelligent construction solutions integrating IoT and automation technologies for next-generation urban development projects.",
    category: "Smart Technology", 
    results: ["Digital twin integration", "Automated quality control", "Real-time project monitoring"]
  }
];

// 分页配置
const itemsPerPage = 6; // 每页显示6个案例（2行x3列）
const totalPages = Math.ceil(cases.length / itemsPerPage);
const currentPage = 1; // 第一页
const displayCases = cases.slice(0, itemsPerPage);

// 转换案例数据格式以适配GridList组件
const gridItems = displayCases.map(caseItem => ({
  id: caseItem.id,
  title: caseItem.title,
  image: caseItem.image,
  excerpt: caseItem.excerpt,
  category: caseItem.category,
  href: `/case/${caseItem.id}` // 假设有详情页面
}));

// 面包屑导航
const breadcrumbs = [
  { label: 'Home', href: '/' },
  { label: 'Cases' }
];
---

<SecondaryPageLayout 
  title="Customer Cases"
  description="Discover how our machinery solutions have helped customers achieve success across various industries"
  breadcrumbs={breadcrumbs}
  currentSection="cases"
  contentType="grid"
>
  <!-- 案例网格 -->
  <GridList 
    items={gridItems}
    itemsPerRow={3}
    maxRows={2}
  />
  
  <!-- 分页 -->
  <Pagination 
    currentPage={currentPage}
    totalPages={totalPages}
    baseUrl="/cases-template"
  />
</SecondaryPageLayout> 