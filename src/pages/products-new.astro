---
export const prerender = true;

import SecondaryPageLayout from '../components/templates/SecondaryPageLayout.astro';
import GridList from '../components/templates/GridList.astro';
import { products } from '../data/products.js';

// 转换产品数据格式以适配GridList组件
const gridItems = products.map(product => ({
  id: product.id,
  title: product.name,
  image: product.image,
  excerpt: product.excerpt,
  category: product.category,
  href: `/products/${product.slug}`
}));

// 面包屑导航
const breadcrumbs = [
  { label: 'Home', href: '/' },
  { label: 'Products', href: '/products' },
  { label: 'All Products' }
];
---

<SecondaryPageLayout 
  title="All Products"
  description="Browse our complete range of construction machinery and equipment"
  breadcrumbs={breadcrumbs}
  currentSection="products"
  contentType="grid"
>
  <GridList 
    items={gridItems}
    itemsPerRow={3}
    maxRows={4}
  />
</SecondaryPageLayout> 