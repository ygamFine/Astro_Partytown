<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>语言切换测试</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        .info { background-color: #d1ecf1; border-color: #bee5eb; }
        .test-link {
            display: inline-block;
            margin: 5px;
            padding: 8px 15px;
            background-color: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 3px;
        }
        .test-link:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <h1>🌐 语言切换功能测试</h1>
    
    <div class="test-section info">
        <h2>📋 测试说明</h2>
        <p>这个页面用于测试 Astro 项目的多语言路由和语言切换功能是否正常工作。</p>
        <p><strong>开发服务器地址：</strong> <a href="http://localhost:3000" target="_blank">http://localhost:3000</a></p>
    </div>

    <div class="test-section">
        <h2>🔗 多语言路由测试</h2>
        <p>点击以下链接测试不同语言的产品页面：</p>
        
        <h3>产品列表页：</h3>
        <a href="http://localhost:3000/zh-hans/products/" class="test-link" target="_blank">中文简体</a>
        <a href="http://localhost:3000/zh-hant/products/" class="test-link" target="_blank">中文繁体</a>
        <a href="http://localhost:3000/en/products/" class="test-link" target="_blank">English</a>
        <a href="http://localhost:3000/fr/products/" class="test-link" target="_blank">Français</a>
        <a href="http://localhost:3000/ja/products/" class="test-link" target="_blank">日本語</a>
        <a href="http://localhost:3000/es/products/" class="test-link" target="_blank">Español</a>
        
        <h3>首页：</h3>
        <a href="http://localhost:3000/zh-hans/" class="test-link" target="_blank">中文简体首页</a>
        <a href="http://localhost:3000/en/" class="test-link" target="_blank">English首页</a>
        <a href="http://localhost:3000/fr/" class="test-link" target="_blank">Français首页</a>
    </div>

    <div class="test-section">
        <h2>🔄 语言切换器测试</h2>
        <p>在以下页面测试语言切换器功能：</p>
        <ol>
            <li>访问 <a href="http://localhost:3000/zh-hans/products/" target="_blank">中文产品页面</a></li>
            <li>点击页面右上角的语言选择器</li>
            <li>选择不同的语言（如 English、Français、日本語等）</li>
            <li>验证是否正确跳转到对应语言的产品页面</li>
            <li>检查页面内容是否显示为对应语言</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>📱 移动端测试</h2>
        <p>在移动设备或浏览器开发者工具的移动端模式下测试：</p>
        <ol>
            <li>访问任意多语言页面</li>
            <li>点击移动端菜单按钮</li>
            <li>在移动端菜单中找到语言选择器</li>
            <li>测试语言切换功能</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>✅ 预期结果</h2>
        <ul>
            <li>所有多语言路由都应该返回 200 状态码</li>
            <li>语言切换器应该正确跳转到对应语言的同一页面</li>
            <li>页面内容应该显示为对应语言的文本</li>
            <li>分页组件应该显示对应语言的文本</li>
            <li>面包屑导航应该使用对应语言</li>
        </ul>
    </div>

    <div class="test-section success">
        <h2>✅ 问题已修复</h2>
        <p>以下问题已经解决：</p>
        <ul>
            <li><strong>✅ 多语言路由：</strong> 所有页面现在都通过多语言路由访问</li>
            <li><strong>✅ 语言切换器：</strong> Header 和 StaticMenu 组件的语言切换功能正常工作</li>
            <li><strong>✅ 国际化内容：</strong> 页面内容正确显示对应语言的文本</li>
            <li><strong>✅ 分页组件：</strong> 分页组件正确显示对应语言的文本</li>
        </ul>
    </div>

    <script>
        // 自动检测服务器状态
        async function checkServerStatus() {
            try {
                const response = await fetch('http://localhost:3000/zh-hans/products/');
                if (response.ok) {
                    document.body.insertAdjacentHTML('afterbegin', 
                        '<div class="test-section success"><h2>✅ 服务器状态</h2><p>开发服务器运行正常，多语言路由工作正常！</p></div>'
                    );
                }
            } catch (error) {
                document.body.insertAdjacentHTML('afterbegin', 
                    '<div class="test-section error"><h2>❌ 服务器状态</h2><p>无法连接到开发服务器，请确保运行 <code>npm run dev</code></p></div>'
                );
            }
        }
        
        checkServerStatus();
    </script>
</body>
</html> 